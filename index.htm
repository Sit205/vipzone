<script>
  // ====== CONFIG: ตั้งค่าลิงก์จริง + โดเมน Worker (สำหรับซ่อนลิงก์) ======
  const CONFIG = {
    entrances: [
      "https://ufasboclub-onyrix.store/",
      "https://ufasboclub-rainbowsix.site/"
    ],
    whatsappMain: "https://wa.me/XXXXXXXXXXX?text=%E0%BA%AA%E0%BA%B0%E0%BA%A1%E0%BA%B1%E0%BA%81%20UFASBO%20%E0%BB%81%E0%BA%99%E0%BA%B0%E0%BA%99%E0%BA%B3",
    whatsappBackup: "https://wa.me/YYYYYYYYYYY?text=%E0%BA%AA%E0%BA%B0%E0%BA%A1%E0%BA%B1%E0%BA%81%20UFASBO%20%E0%BB%81%E0%BA%99%E0%BA%B0%E0%BA%99%E0%BA%B3",
    facebook: "https://facebook.com/yourpage",

    // ---- ใช้ Worker ที่ทำไว้เพื่อคงโดเมนของเราใน URL ----
    useProxy: true,                                   // ปิด/เปิดโหมดซ่อนลิงก์
    proxyBase: "https://go.yourdomain.com",           // โดเมน Worker ของคุณ
    proxyPrefix: "/__p__/"                            // ต้องตรงกับ worker.js
  };

  // ====== ฟังก์ชันช่วย ======
  const rnd = (arr)=>arr[Math.floor(Math.random()*arr.length)];
  const setHref = (id, url)=>{ const a=document.getElementById(id); if(a) a.href=url; };
  const urlParams = new URLSearchParams(location.search);

  // อนุญาตบังคับเปิด/ปิด proxy จาก query string เช่น ?proxy=0 หรือ ?proxy=1
  if (urlParams.has("proxy")) {
    CONFIG.useProxy = urlParams.get("proxy") === "1";
  }

  function proxify(u){
    // ถ้าไม่ใช้ proxy หรือ proxyBase ว่าง ให้คืนลิงก์เดิม
    if (!CONFIG.useProxy || !CONFIG.proxyBase) return u;
    return `${CONFIG.proxyBase}${CONFIG.proxyPrefix}${encodeURIComponent(u)}`;
  }

  // ====== ตั้งค่าปุ่ม ======
  const anyEntrance = rnd(CONFIG.entrances);
  const anotherEntrance = rnd(CONFIG.entrances.filter(u=>u!==anyEntrance)) || anyEntrance;

  // ปุ่มทางเข้า → ผ่านโดเมน Worker (คงโดเมนเราในแถบ URL)
  setHref('btn-enter', proxify(anyEntrance));
  setHref('btn-enter-backup', proxify(anotherEntrance));

  // ปุ่มติดต่อ/โซเชียล → ไปตรง (ไม่ต้อง proxify)
  setHref('btn-wa-main', CONFIG.whatsappMain);
  setHref('btn-wa-backup', CONFIG.whatsappBackup);
  setHref('btn-fb', CONFIG.facebook);

  // ปีลิขสิทธิ์
  document.getElementById('y').textContent = new Date().getFullYear();

  // ลด referrer บนลิงก์ที่เปิดแท็บใหม่
  const links = document.querySelectorAll('a[target="_blank"]');
  links.forEach(a=>{ a.rel = 'noopener noreferrer'; });
</script>
